<md-dialog aria-label="komplain">
	<md-toolbar>
		<div class="md-toolbar-tools">
			<h2>komplain</h2>
			<span flex></span>
			<md-button class="md-icon-button" ng-click="closeDialog()">
				<ng-md-icon icon="close" aria-label="close dialog"></ng-md-icon>
			</md-button>
		</div>
	</md-toolbar>
	<md-dialog-content id="report_view">
		<div class="md-dialog-content" layout="column" layout-align="center center">
			<form role="form" name="reportForm" ng-submit="save()" novalidate layout="column" layout-align="center center">
				<md-autocomplete
								md-search-text="travel_destination_search"
								md-items="travel_destination in travel_destinations.results | filter: travel_destination_search | orderBy: 'name'"
								md-item-text="travel_destination.name"
								md-min-length="0"
								md-floating-label="Lokasi Wisata"
								md-selected-item-change="searchSelectedChange(travel_destination)"
								md-search-text-change="searchTextChange(travel_destination_search)"
								placeholder="Lokasi Wisata"
								class="animated fadeIn"
								name="travel_destination"
								md-input-name="travel_destination"
								id="id_travel_destination"
								class="form-control"
								type="text"
								required>
					<md-item-template>
						<span class="animated fadeIn" md-highlight-text="travel_destination_search" md-highlight-flags="^i">{$travel_destination.name$}</span>
					</md-item-template>
					<md-not-found>
					</md-not-found>
					<div ng-messages="reportForm.travel_destination.$error">
						<div ng-message="required" ng-repeat="error in errors.travel_destination">{$error$}</div>
					</div>
				</md-autocomplete>

				<md-input-container flex>
					<label for="id_category">Kategori</label>
					<md-select ng-model="newReport.category" name="category" id="id_category" class="form-control" required style="min-width: 180px;">
						<md-option ng-repeat="category in categories" value="{$category$}">
							{$category$}
						</md-option>
					</md-select>
					<div ng-messages="reportForm.category.$error">
						<div ng-message="required" ng-repeat="error in errors.category">{$error$}</div>
					</div>
				</md-input-container>
				<md-input-container>
					<label for="id_report">Isi Komplain</label>
					<textarea name="report" id="id_report" class="form-control" type="text" ng-model="newReport.report" placeholder="Isi Komplain" required></textarea>
					<div ng-messages="reportForm.report.$error">
						<div ng-message="required" ng-repeat="error in errors.report">{$error$}</div>
					</div>
				</md-input-container>
				<div ng-show="errors" class="animated fadeIn">
					<p ng-show="errors.travel_destination" class="md-body-1">Harap masukan lokasi wisata yang tepat</p>
				</div>
				<div ng-if="complete == true">
						<p class="md-body-1">Komplain berhasil dibuat, terima kasih atas laporannya.</p>
				</div>
				<span ng-show="show_loading && !complete && errors.length == 0">
					<md-progress-circular md-mode="indeterminate"></md-progress-circular>
				</span>
				<md-button class="md-raised md-accent" ng-click="save()">Laporkan</md-button>
			</form>
		</div>
	</md-dialog-content>

</md-dialog>

